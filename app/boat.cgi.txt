#!/usr/bin/python3
import psycopg2
import login
print('Content-type:text/html\n\n')
print('<html>')
print('<head>')
print('<title>Boats</title>')
print('</head>')
print('<body>')
connection = None
try:
        # Creating connection
        connection = psycopg2.connect(login.credentials)
        print('<p>Connected to Postgres with: {}.</p>'.format(login.credentials[:51]))
        cursor = connection.cursor()
        # Print the register and remove buttons which will redirect to another page
        print('<td><a href="register_boat.cgi">Register Boat</a><td>')
        print('<br><br>')
        print('<td><a href="remove_boat.cgi">Remove Boat</a><td>')

except Exception as e:
        # Print errors on the webpage if they occur
        print('<h1>An error occurred.</h1>')
        print('<p>{}</p>'.format(e))
finally:
        if connection is not None:
                connection.close()

print('</body>')
print('</html>')